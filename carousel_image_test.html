<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>轮播图片路径测试</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        .test-container {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        .image-test {
            border: 1px solid #ddd;
            padding: 10px;
            border-radius: 5px;
        }
        .image-test img {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 10px 0;
        }
        .status {
            padding: 5px 10px;
            border-radius: 3px;
            font-weight: bold;
        }
        .status.success {
            background-color: #d4edda;
            color: #155724;
        }
        .status.error {
            background-color: #f8d7da;
            color: #721c24;
        }
        .log-area {
            background-color: #f5f5f5;
            padding: 15px;
            border-radius: 5px;
            max-height: 300px;
            overflow-y: auto;
            font-family: monospace;
            font-size: 14px;
        }
        .log-entry {
            margin-bottom: 5px;
            padding: 2px 0;
        }
    </style>
</head>
<body>
    <h1>轮播图片路径测试</h1>
    <div class="test-container">
        <div class="log-area" id="logArea"></div>
        
        <div class="image-test">
            <h3>测试图片 1</h3>
            <p>路径: /images_new/lunbotu/4141ab88-6dc1-4253-94d8-f4692ab7272f.png</p>
            <img id="testImg1" src="/images_new/lunbotu/4141ab88-6dc1-4253-94d8-f4692ab7272f.png" alt="测试图片1">
            <div id="status1" class="status">加载中...</div>
        </div>
        
        <div class="image-test">
            <h3>测试图片 2</h3>
            <p>路径: /images_new/lunbotu/4c97ca9f-75a1-48b3-a48a-b1c609933793.webp</p>
            <img id="testImg2" src="/images_new/lunbotu/4c97ca9f-75a1-48b3-a48a-b1c609933793.webp" alt="测试图片2">
            <div id="status2" class="status">加载中...</div>
        </div>
        
        <div class="image-test">
            <h3>测试图片 3</h3>
            <p>路径: /images_new/lunbotu/微信图片_20250825105422.png</p>
            <img id="testImg3" src="/images_new/lunbotu/微信图片_20250825105422.png" alt="测试图片3">
            <div id="status3" class="status">加载中...</div>
        </div>
    </div>

    <script>
        // 日志系统
        function log(message, type = 'info') {
            const logArea = document.getElementById('logArea');
            const timestamp = new Date().toLocaleTimeString();
            const logEntry = document.createElement('div');
            logEntry.className = `log-entry log-${type}`;
            logEntry.textContent = `[${timestamp}] ${message}`;
            
            // 添加不同类型日志的样式
            if (type === 'error') {
                logEntry.style.color = '#d9534f';
            } else if (type === 'success') {
                logEntry.style.color = '#5cb85c';
            } else if (type === 'warning') {
                logEntry.style.color = '#f0ad4e';
            }
            
            logArea.appendChild(logEntry);
            logArea.scrollTop = logArea.scrollHeight; // 自动滚动到底部
            
            // 同时输出到控制台
            if (type === 'error') {
                console.error(message);
            } else if (type === 'warning') {
                console.warn(message);
            } else {
                console.log(message);
            }
        }

        // 测试图片加载
        function testImageLoading(imgElement, statusElement, imgIndex) {
            const imgSrc = imgElement.src;
            
            // 图片加载成功处理
            imgElement.onload = function() {
                const status = document.getElementById(statusElement);
                status.textContent = '加载成功';
                status.className = 'status success';
                log(`图片 ${imgIndex} 加载成功: ${imgSrc}`, 'success');
                
                // 显示图片尺寸信息
                log(`图片 ${imgIndex} 尺寸: ${imgElement.width}x${imgElement.height}`, 'info');
            };
            
            // 图片加载失败处理
            imgElement.onerror = function() {
                const status = document.getElementById(statusElement);
                status.textContent = '加载失败';
                status.className = 'status error';
                log(`图片 ${imgIndex} 加载失败: ${imgSrc}`, 'error');
                
                // 添加重试按钮
                const retryBtn = document.createElement('button');
                retryBtn.textContent = '重试';
                retryBtn.onclick = function() {
                    status.textContent = '加载中...';
                    status.className = 'status';
                    imgElement.src = '';
                    setTimeout(() => {
                        imgElement.src = imgSrc;
                    }, 100);
                };
                status.parentNode.appendChild(retryBtn);
            };
        }

        // 当页面加载完成后，开始测试
        window.onload = function() {
            log('开始测试轮播图片路径...');
            
            // 测试第一张图片
            testImageLoading(document.getElementById('testImg1'), 'status1', 1);
            
            // 测试第二张图片
            testImageLoading(document.getElementById('testImg2'), 'status2', 2);
            
            // 测试第三张图片
            testImageLoading(document.getElementById('testImg3'), 'status3', 3);
            
            // 添加额外的路径检查
            setTimeout(() => {
                // 检查根目录下的其他可能路径
                log('开始检查其他可能的图片路径...', 'info');
                
                const checkPaths = [
                    '/images_new/lunbotu/4141ab88-6dc1-4253-94d8-f4692ab7272f.png',
                    '/images_new/lunbotu/4c97ca9f-75a1-48b3-a48a-b1c609933793.webp',
                    '/images_new/lunbotu/微信图片_20250825105422.png',
                    '/images/4141ab88-6dc1-4253-94d8-f4692ab7272f.png',
                    '/4141ab88-6dc1-4253-94d8-f4692ab7272f.png'
                ];
                
                checkPaths.forEach((path, index) => {
                    const testImg = new Image();
                    testImg.onload = function() {
                        log(`可选路径检查 ${index + 1}: ${path} - 存在`, 'success');
                    };
                    testImg.onerror = function() {
                        log(`可选路径检查 ${index + 1}: ${path} - 不存在`, 'warning');
                    };
                    testImg.src = path;
                });
            }, 3000);
        };
    </script>
</body>
</html>